<!DOCTYPE html>
<html>
    <head>
        <title>Class 10 | Advanced GIS</title>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

        <link href='http://fonts.googleapis.com/css?family=Ledger' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>

        <link href="css/pig.css" rel="stylesheet" type="text/css" />
        <link href="css/base.css" rel="stylesheet" />

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
        <script src="http://benpickles.github.io/onScreen/jquery.onscreen.min.js"></script>

        <script src="js/pig.js"></script>

        <script>
            $(document).ready(function() {
                $(document).on('keydown', function (e) {
                    if (e.keyCode !== 39) { return; }
                    var hue = Math.random() * 360,
                        saturation = Math.random() * 100,
                        lightness = Math.random() * 100,
                        color = 'hsl(' + hue + ',' + saturation + '%,' + lightness + '%)';
                    $('.slide:onScreen')
                        .css('background-color', color)
                        .toggleClass('dark-background', lightness < 50);
                });
            });
        </script>

    </head>
    <body>

        <div class="slide">
            <h1>Advanced GIS</h1>
            <p>Class 10</p>
            <p>JavaScript (again)</p>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>let's talk about process and debugging</h2>
        </div>

        <div class="slide">
            <h2>work on one small thing at a time</h2>
        </div>

        <div class="slide">
            <h2>don't overwhelm yourself</h2>
        </div>

        <div class="slide">
            <h2>do as much as you can in developer tools</h2>
        </div>

        <div class="slide">
            <h2>make that one thing work, paste it into your file</h2>
        </div>

        <div class="slide">
            <h2>use <span class="code">console.log()</span></h2>
        </div>

        <div class="slide">
            <pre>
var greeting = 'hullo';
console.log(greeting);
            </pre>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 60px;">
...
console.log('well we made it this far');
...
            </pre>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <a href="http://sweeten.com/maps">
                <img src="img/sweeten.png" />
            </a>
            <a href="http://sweeten.com/maps">sweeten.com/maps</a>
        </div>

        <div class="slide">
            <a href="https://livinglotsnola.org/">
                <img src="img/llnola.png" />
            </a>
            <a href="https://livinglotsnola.org/">livinglotsnola.org</a>
        </div>

        <div class="slide">
            <h2>last time:</h2>
            <pre>
SELECT * 
FROM signs 
WHERE borough = 'MANHATTAN'
</pre>
        </div>

        <div class="slide">
            <h2>you <strong>could</strong> make a button for each borough</h2>
        </div>

        <div class="slide">
            <pre>
SELECT * 
FROM signs 
WHERE borough = 'BRONX'

SELECT * 
FROM signs 
WHERE borough = 'STATEN ISLAND'
</pre>
        </div>

        <div class="slide">
            <h2>but sometimes you need something more flexible</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 45px; line-height: 55px;">
var borough = 'MANHATTAN';
var sql = "SELECT * FROM signs WHERE borough = "
    + borough;
</pre>
        </div>

        <div class="slide">
            <pre style="font-size: 45px; line-height: 55px;">
var borough = 'MANHATTAN';
var sql = "SELECT * FROM signs WHERE borough = '"
    + borough + "'";
            </pre>
        </div>

        <div class="slide">
            <h2>OK, where is <span class="code">borough</span> coming from?</h2>
        </div>

        <div class="slide">
            <img style="max-width: 40%;" src="img/borough_selector.png" />
        </div>

        <div class="slide">
            <h2 class="code">$('#borough').val()</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 45px; line-height: 55px;">
var sql = "SELECT * FROM signs WHERE borough = '"
    + $('#borough').val() + "'";
            </pre>
        </div>

        <div class="slide">
            <img style="max-width: 80%;" src="img/deliveries.jpg" />
        </div>

        <div class="slide">
            <img style="max-width: 80%;" src="img/just-manhattan-button.png" />
        </div>

        <div class="slide">
            <pre style="font-size: 55px; line-height: 65px;">
$('#just-manhattan').click(function () {
    ...
});
            </pre>
        </div>

        <div class="slide">
            <h2 class="code">change</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 55px; line-height: 65px;">
$('#borough').change(function () {
    ...
});
            </pre>
        </div>

        <div class="slide">
            <a href="http://sweeten.com/maps">
                <img src="img/sweeten.png" />
            </a>
            <a href="http://sweeten.com/maps">sweeten.com/maps</a>
        </div>

        <div class="slide">
            <a href="https://livinglotsnola.org/">
                <img src="img/llnola.png" />
            </a>
            <a href="https://livinglotsnola.org/">livinglotsnola.org</a>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>sometimes you're too big for CartoDB</h2>
        </div>

        <div class="slide">
            <h2>sometimes you're too big for (free) CartoDB</h2>
        </div>

        <div class="slide">
            <h2>sometimes you want to change things more than CartoDB lets you</h2>
        </div>

        <div class="slide">
            <a href="http://leafletjs.com/">
                <img style="max-width: 40%; background: white; margin-top: 20%;" src="img/leaflet.png" />
            </a>
        </div>

        <div class="slide">
            <h2>a few things leaflet does:</h2>
        </div>

        <div class="slide">
            <h2>tiles</h2>
            <img style="max-width: 80%;" src="img/leaflet-tiles.gif" />
        </div>

        <div class="slide">
            <h2>popups</h2>
            <img style="max-width: 80%;" src="img/leaflet-popups.gif" />
        </div>

        <div class="slide">
            <h2>zoom and pan</h2>
            <img style="max-width: 80%;" src="img/leaflet-zoom-and-pan.gif" />
        </div>

        <div class="slide">
            <h2>some history</h2>
            <p>2005: Google Maps API</p>
        </div>

        <div class="slide">
            <img src="img/google-maps.png" />
        </div>

        <div class="slide">
            <h2>some history</h2>
            <p>2005: Google Maps API</p>
            <p>2006: <a href="http://openlayers.org/">OpenLayers</a></p>
        </div>

        <div class="slide">
            <img src="img/openlayers.png" />
        </div>

        <div class="slide">
            <h2>some history</h2>
            <p>2005: Google Maps API</p>
            <p>2006: <a href="http://openlayers.org/">OpenLayers</a></p>
            <p>2010: <a href="http://leafletjs.com/">Leaflet</a></p>
        </div>

        <div class="slide">
            <h2>how do you use leaflet?</h2>
        </div>

        <div class="slide">
            <h2>you already are!</h2>
        </div>

        <div class="slide">
            <h2>leaflet is used all over the place</h2>
        </div>

        <div class="slide">
            <h2>leaflet is used all over the place</h2>
            <img style="float: left; max-width: 25%;" src="img/cartodb.png" />
        </div>

        <div class="slide">
            <h2>leaflet is used all over the place</h2>
            <img style="float: left; max-width: 25%;" src="img/cartodb.png" />
            <img style="float: left; max-width: 25%; background: white;" src="img/mapbox.png" />
        </div>

        <div class="slide">
            <h2>leaflet is used all over the place</h2>
            <img style="float: left; max-width: 25%;" src="img/cartodb.png" />
            <img style="float: left; max-width: 25%; background: white;" src="img/mapbox.png" />
            <img style="float: left; max-width: 25%; background: white;" src="img/osm.svg" />
        </div>

        <div class="slide">
            <h2>leaflet is used all over the place</h2>
            <img style="float: left; max-width: 25%;" src="img/cartodb.png" />
            <img style="float: left; max-width: 25%; background: white;" src="img/mapbox.png" />
            <img style="float: left; max-width: 25%; background: white;" src="img/osm.svg" />
            <p style="clear: both;">+ tons of other sites with maps on them</p>
        </div>

        <div class="slide">
            <h2>3 steps:</h2>
            <p>1. load leaflet's code</p>
            <p>2. make a <span class="code">div</span> for your map</p>
            <p>3. tell leaflet to create the map</p>
        </div>

        <div class="slide">
            <h2>1. load leaflet's code</h2>
            <pre style="font-size: 30px; line-height: 40px;">
&lt;link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" /&gt;
&lt;script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"&gt;&lt;/script&gt;
</pre>
        </div>

        <div class="slide">
            <h2>2. make a <span class="code">div</span> for your map</h2>
            <pre>
&lt;body&gt;
    &lt;div id="map"&gt;&lt;/div&gt;
&lt;/body&gt;
</pre>
        </div>

        <div class="slide">
            <h2>3. tell leaflet to create the map</h2>
            <pre style="font-size: 30px; line-height: 40px;">
var map = L.map('map').setView([40.70, -73.96], 11);
</pre>
        </div>

        <div class="slide">
            <h2>3. tell leaflet to create the map</h2>
            <pre style="font-size: 30px; line-height: 40px;">
L.tileLayer('https://{s}.tiles.mapbox.com/v3/ebrelsford.ho06j5h0/{z}/{x}/{y}.png', {
    maxZoom: 18,
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery &copy; <a href="http://mapbox.com">Mapbox</a>'
}).addTo(map);
</pre>
        </div>

        <div class="slide">
            <a href="leafletmap.simple.html">
                <img style="max-width: 70%;" src="img/leaflet-simple.png" />
            </a>
            <a href="leafletmap.simple.html">
                simple leaflet map
            </a>
        </div>

        <div class="slide">
            <h2>3a. add some data to the map</h2>
                <pre style="font-size: 50px; line-height: 60px;">
$.getJSON('queens.geojson', function (data) {
    L.geoJson(data).addTo(map);
});
</pre>
        </div>

        <div class="slide">
            <h2>3b. add popups</h2>
                <pre style="font-size: 35px; line-height: 45px;">
$.getJSON('queens.geojson', function (data) {
    L.geoJson(data, <span class="highlighted">{
        onEachFeature: function (feature, layer) {
            layer.bindPopup('area: ' + feature.properties.area);
        }
    }</span>).addTo(map);
});
</pre>
        </div>

        <div class="slide">
            <a href="leafletmap.data.html">
                <img style="max-width: 70%;" src="img/leaflet-data.png" />
            </a>
            <a href="leafletmap.data.html">
                leaflet map with data
            </a>
        </div>

        <div class="slide">
            <h2>plugins</h2>
        </div>

        <div class="slide">
            <a href="http://leafletjs.com/plugins.html">
                <img style="max-width: 55%;" src="img/leaflet-plugins.png" />
            </a>
            <a href="http://leafletjs.com/plugins.html">
                leafletjs.com/plugins.html
            </a>
        </div>

        <div class="slide">
            <a href="https://github.com/bbecquet/Leaflet.MagnifyingGlass">
                <img style="max-width: 75%;" src="img/leaflet-magnifying-glass.png" />
            </a>
            <a class="source" href="https://github.com/bbecquet/Leaflet.MagnifyingGlass">
                github.com/bbecquet/Leaflet.MagnifyingGlass
            </a>
        </div>

        <div class="slide">
            <a href="https://github.com/lizardtechblog/Leaflet.OpacityControls">
                <img style="max-width: 75%;" src="img/leaflet-opacity-controls.png" />
            </a>
            <a class="source" href="https://github.com/lizardtechblog/Leaflet.OpacityControls">
                github.com/lizardtechblog/Leaflet.OpacityControls
            </a>
        </div>

        <div class="slide">
            <a href="https://github.com/openplans/Leaflet.AnimatedMarker">
                <img style="max-width: 55%;" src="img/leaflet-animated-marker.gif" />
            </a>
            <a class="source" href="https://github.com/openplans/Leaflet.AnimatedMarker">
                github.com/openplans/Leaflet.AnimatedMarker
            </a>
        </div>

        <div class="slide">
            <a href="leafletmap.cluster.html">
                <img src="img/cluster-plugin.png" />
            </a>
            <a href="https://github.com/Leaflet/Leaflet.markercluster">
                Leaflet markercluster
            </a>
        </div>

        <div class="slide">
            <a href="leafletmap.geocode.html">
                <img src="img/geocoding-plugin.png" />
            </a>
            <a href="https://github.com/smeijer/L.GeoSearch">
                Leaflet GeoSearch
            </a>
        </div>

        <div class="slide">
            <a href="http://leafletjs.com/reference.html#map-events">
                <img src="img/leaflet-events.png" />
            </a>
        </div>

        <div class="slide">
            <h2 class="code">click, zoomend, popupopen, popupclose</h2>
        </div>

        <div class="slide">
            <img style="max-width: 75%;" src="img/deliveries.jpg" />
        </div>

        <div class="slide">
            <h2>customizing popups</h2>
        </div>

        <div class="slide">
            <h2>it's easier with leaflet</h2>
        </div>

        <div class="slide">
            <a href="http://sweeten.com/maps">
                <img style="max-width: 50%;" src="img/sweeten-popup.png" />
            </a>
        </div>

        <div class="slide">
            <a href="https://livinglotsnola.org/">
                <img style="max-width: 50%;" src="img/llnola-popup.png" />
            </a>
        </div>

        <div class="slide">
            <a href="leaflet.custompopup.html">
                <img style="max-width: 50%;" src="img/leaflet-popup.png" />
            </a>
            <a href="leaflet.custompopup.html">
                leaflet.custompopup.html
            </a>
        </div>

    </body>
</html>
