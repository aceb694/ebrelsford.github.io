<!DOCTYPE html>
<html>
    <head>
        <title>Class 2 | Advanced GIS</title>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

        <link href='http://fonts.googleapis.com/css?family=Arvo' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Alegreya Sans' rel='stylesheet' type='text/css'>

        <link href="css/pig.css" rel="stylesheet" type="text/css" />
        <link href="css/base.css" rel="stylesheet" />

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
        <script src="js/pig.js"></script>
    </head>
    <body>

        <div class="slide">
            <p>Welcome to Advanced GIS, Lecture 2</p>
            <p>This is a web page that can be viewed as slides.</p>
            <p>→ to move forward</p>
            <p>← to go back</p>
        </div>

        <div class="slide">
            <h1>Advanced GIS</h1>
            <p>Please download this data:</p>
            <a href="http://bit.ly/advgis-earthquakes" style="font-family: Courier, monospace;">bit.ly/advgis-earthquakes</a>
            <a href="http://bit.ly/advgis-disputed" style="font-family: Courier, monospace; display: inline-block;">bit.ly/advgis-disputed</a>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>Next week: final project thoughts</h2>
        </div>

        <div class="slide">
            <h2>tell me about:</h2>
        </div>

        <div class="slide">
            <h2>Something you would like to work on as your final project.</h2>
        </div>

        <div class="slide">
            <h2>Past work you're excited about that might be a good interactive map.</h2>
        </div>

        <div class="slide">
            <h2>Projects that others have done that you might like to emulate.</h2>
        </div>

        <div class="slide">
            <h2>Thoughts about the geoweb—what inspires you about online maps?</h2>
        </div>

        <div class="slide">
            <h2>Map-related skills that you would like to acquire, in this course or at a later date.</h2>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>CartoDB</h2>
        </div>

        <div class="slide">
            <img src="img/andrewhill_plutomaps.png" />
            <a href="http://andrewxhill.github.io/cartodb-examples/scroll-story/pluto/index.html">
                pluto maps in CartoDB
            </a>
        </div>

        <div class="slide">
            <a href="http://londonsquatsarchive.org/">
                <img src="img/london-squats-archive.png" />
            </a>
        </div>

        <div class="slide">
            <img src="img/cartodb-project.png" />
            <a href="https://github.com/CartoDB/cartodb">github.com/CartoDB/cartodb</a>
        </div>

        <div class="slide">
            <img src="img/cartodb-project.png" />
            <h2>"free as in speech"</h2>
        </div>

        <div class="slide">
            <img src="img/cartodb_business.png" />
            <a href="http://cartodb.com/">cartodb.com</a>
        </div>

        <div class="slide">
            <img style="width: 70%;" src="img/cartodb_prices.png" />
            <h2>"free as in beer"</h2>
        </div>

        <div class="slide">
            <h2>Who uses CartoDB?</h2>
        </div>

        <div class="slide">
            <a href="http://www.thedailybeast.com/articles/2012/07/24/interactive-map-the-us-shooting-epidemic.html">
                <img src="img/cartodb_shootings.png" />
            </a>
        </div>

        <div class="slide">
            <a href="http://vr00n.cartodb.com/viz/71ce78ca-7049-11e4-92e6-0e4fddd5de28/public_map">
                <img src="img/cartodb_researchers.png" />
            </a>
        </div>

        <div class="slide">
            <a href="http://auremoser.github.io/VitalSigns-water/">
                <img src="img/cartodb_ngos.png" />
            </a>
        </div>

        <div class="slide">
            <h2>tables</h2>
            <p>where you <strong>import</strong>, <strong>edit</strong>, and <strong>analyze</strong> your data</p>
        </div>

        <div class="slide">
            <img class="small" src="img/cartodb_newtable.png" />
        </div>

        <div class="slide">
            <p>you can upload:</p>
            <ul style="margin-left: 100px;">
                <li>csv</li>
                <li>shapefiles (<strong>zipped</strong>)</li>
                <li>kml</li>
                <li>geojson</li>
                <li>(and some others)</li>
            </ul>
        </div>

        <div class="slide">
            <img src="img/cartodb_table.png" />
        </div>

        <div class="slide">
            <img src="img/cartodb_tables_gis.png" />
        </div>

        <div class="slide">
            <h2>visualizations</h2>
            <p>where you make <strong>public map views</strong> of your tables</p>
        </div>

        <div class="slide">
            <img style="padding-top: 10%;" class="small" src="img/cartodb-vis-2.png" />
        </div>

        <div class="slide">
            <img src="img/cartodb_visualizations_gis.png" />
        </div>

        <div class="slide">
            <img class="small" src="img/cartodb_visualization_wizard.png" />
        </div>


        <div class="slide intermission"></div>

        <div class="slide">
            <h2>CartoCSS</h2>
        </div>

        <div class="slide">
            <img src="img/carto-github.png" />
            <a href="https://github.com/mapbox/carto">(open source)</a>
        </div>

        <!--

        Open source doesn't mean much on its own, but CartoCSS is actually used by
        other projects that we'll be talking about:

        -->

        <div class="slide">
            <img src="img/mapbox.png" />
        </div>

        <div class="slide">
            <img src="img/osm.png" />
        </div>

        <div class="slide">
            <img src="img/cartodb.png" />
        </div>

        <!--
        
        Part of why the geoweb community is so invested in CartoCSS is that CartoCSS
        speaks to the renderer that many geoweb projects depend on, Mapnik.

        Mapnik is a piece of software that takes your data and turns it into map 
        tiles.

        -->

        <div class="slide">
            <img class="small" src="img/mapnik.png" />
        </div>

        <div class="slide">
            <h2>why?</h2>
        </div>

        <!--

        You used to have to tell mapnik how to style your tiles through a 
        cumbersome series of XML files. Here is a very small excerpt from OSM's
        style files. This goes on for thousands of lines.

        -->

        <div class="slide">
            <h2>styling maps can be painful</h2>
        </div>

        <div class="slide">
            <img src="img/mapnik-xml.png" />
        </div>

        <div class="slide">
            <img class="small" src="img/qgis-styling.png" />
        </div>

        <div class="slide">
            <h2>you can share it</h2>
        </div>

        <div class="slide">
            <h2>you can share it</h2>
            <p>(it's just text)</p>
        </div>

        <div class="slide">
            <a href="http://ebrelsford.github.io/nyc/maps/opendata/2013/08/26/signs.html">
                <img src="img/cartocss-online.png" />
            </a>
        </div>

        <div class="slide">
            <a href="https://github.com/gravitystorm/openstreetmap-carto">
                <img src="img/cartocss-osm.png" />
            </a>
        </div>

        <div class="slide">
            <img src="img/cartocss-osm-detail.png" />
        </div>


        <!--

        Here it is easy to see the impact of the web and of programmers on the 
        geoweb.  Since CartoCSS is supported by both TileMill and CartoDB, it's 
        worth going into in some detail here.

        Talk about map, polygon, line, markers, text.

        -->

        <div class="slide">
            <h2>CartoCSS</h2>
        </div>

        <div class="slide">
            <img class="small" style="max-width: 900px;" src="img/dashboard-car.jpg" />
            <a class="source" href="http://www.flickr.com/photos/mrstaticvoid/4307191115/">
                mrstaticvoid on flickr
            </a>
        </div>

        <div class="slide">
            <img class="small" style="max-width: 900px;" src="img/dashboard-airplane.jpg" />
            <a class="source" href="http://www.flickr.com/photos/niklasstjerna/6636973889/">
                niklasstjerna on flickr
            </a>
        </div>

        <div class="slide">
            <img class="small" style="max-width: 900px;" src="img/dashboard-airplane-markers.jpg" />
        </div>

        <div class="slide">
            <img class="small" style="max-width: 900px;" src="img/dashboard-airplane-polygons.jpg" />
        </div>

        <div class="slide">
            <img class="small" style="max-width: 900px;" src="img/dashboard-airplane-lines.jpg" />
        </div>

        <div class="slide">
            <img class="small" style="max-width: 900px;" src="img/dashboard-airplane-qqq.jpg" />
        </div>

        <div class="slide">
            <pre>#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
    marker-line-width: 0.25;
    marker-line-opacity: 0.4;
    marker-width: 2;
    marker-allow-overlap: true;
}</pre>
        </div>

        <div class="slide">
            <h2>this is a <strong>statement</strong></h2>
        </div>

        <div class="slide">
            <h2>this is a <strong>statement</strong></h2>
<pre style="font-size: 44px; line-height: 44px;">#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
    marker-line-width: 0.25;
    marker-line-opacity: 0.4;
    marker-width: 2;
    marker-allow-overlap: true;
}</pre>
        </div>

        <div class="slide">
            <h2>statements start with a <strong>selector</strong></h2>
        </div>

        <div class="slide">
            <h2>statements start with a <strong>selector</strong></h2>
            <pre>#earthquakes</pre>
        </div>

        <div class="slide">
            <h2>statements start with a <strong>selector</strong></h2>
            <pre>#earthquakes</pre>
            <p>"this statement will talk about the table called <strong>earthquakes</strong>"</p>
        </div>

        <div class="slide">
            <h2>always put a <strong>{</strong> after the selector</h2>
        </div>

        <div class="slide">
            <h2>always put a <strong>{</strong> after the selector</h2>
            <pre>#earthquakes {</pre>
        </div>

        <div class="slide">
            <h2>and always always remember to close it with <strong>}</strong></h2>
        </div>

        <div class="slide">
            <h2>and always always remember to close it with <strong>}</strong></h2>
            <pre>#earthquakes {
}</pre>
        </div>

        <div class="slide">
            <h2>and always always remember to close it with <strong>}</strong></h2>
            <pre>#earthquakes {
}</pre>
            <p>otherwise your statement will never end!</p>
        </div>

        <div class="slide">
            <h2>think of the <strong>{</strong> <strong>}</strong> as bookends</h2>
        </div>

        <div class="slide">
            <h2>between <strong>{</strong> <strong>}</strong>, set your properties</h2>
        </div>

        <div class="slide">
            <h2>what is a <strong>property</strong>?</h2>
        </div>

        <div class="slide">
            <p>they're defined in the <a href="https://www.mapbox.com/carto/api/2.1.0/">documentation</a> for CartoCSS</p>
            <img src="img/cartocss-docs.png" />
        </div>

        <div class="slide">
            <pre>#earthquakes {
    marker-fill: #ff307a;
}</pre>
        </div>

        <div class="slide">
            <pre>#earthquakes {
    marker-fill: #ff307a;
}</pre>
            <p>always one per line, each line ending with a <strong>;</strong></p>
        </div>

        <div class="slide">
            <pre>#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
}</pre>
        </div>

        <div class="slide">
            <pre>#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
}</pre>
            <p>the property name and the value you're setting it to are separated by a <strong>:</strong></p>
        </div>

        <div class="slide">
            <p>property values will often be <strong>color strings</strong>, <strong>numbers</strong>, or <strong>true/false</strong></p>
        </div>

        <div class="slide">
            <p>always check the <a href="https://github.com/mapbox/carto/blob/master/docs/latest.md">documentation</a> if you have any doubts</p>
        </div>

        <div class="slide">
            <pre>#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
    marker-line-width: 0.25;
    marker-line-opacity: 0.4;
    marker-width: 2;
    marker-allow-overlap: true;
}</pre>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <p>use the visualization wizard to give your markers the Simple style, then:</p>
            <ul style="list-style: disc; padding-left: 100px;">
                <li>make the markers 5 pixels wide,</li>
                <li>outlined by a 2 pixel-wide line, and</li>
                <li>give the fill and stroke of the markers different colors</li>
            </ul>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>that's nice, but it gets more interesting</h2>
        </div>

        <div class="slide">
            <h2>let's vary some properties by <strong>zoom level</strong></h2>
        </div>

        <div class="slide">
            <pre>#earthquakes {
    marker-width: 3;
    ...
    [zoom &gt;= 10] {
        marker-width: 8;
    }
}</pre>
        </div>

        <div class="slide">
            <h2>let's call these <strong>conditional statements</strong></h2>
        </div>

        <div class="slide">
            <h2><strong>conditional statements</strong> are only used if some <strong>condition</strong> is met</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 40px; line-height: 50px;">
#earthquakes {
    marker-width: 3;
    ...
    [zoom &gt;= 10] {
        marker-width: 8;
    }
}</pre>
            <p>"make the earthquakes markers 3 pixels wide. if the map is at zoom level 10 or higher, make the earthquakes markers 8 pixels wide."</p>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 60px;">
#earthquakes {
    marker-width: 3;
    ...
    [zoom >= 10] {
        marker-width: 8;
    }
    [zoom >= 16] {
        marker-width: 13;
    }
}</pre>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>make your markers double in width at zoom level 12 and above</h2>
        </div>

        <div class="slide">
            <h2>make your markers half their width below zoom level 8</h2>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>that's not all!</h2>
        </div>

        <div class="slide">
            <h2>you can change styles based on a feature's attributes</h2>
        </div>

        <div class="slide">
            <pre>
#earthquakes {
    marker-width: 3;
    ...
    [mag &gt;= 6.5] {
        marker-width: 8;
    }
}</pre>
        </div>

        <div class="slide">
            <h2>look familiar?</h2>
        </div>

        <div class="slide">
            <h2>conditional statements on text need to wrap those strings in quotation marks</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 70px;">
#earthquakes {
    marker-width: 3;
    ...
    [place = 'Northern Mid-Atlantic Ridge'] {
        marker-width: 8;
    }
}</pre>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>make your markers a different color when the magnitude is over 7</h2>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>you don't have to memorize all of this</h2>
        </div>

        <div class="slide">
            <h2>use the <a href="https://github.com/mapbox/carto/blob/master/docs/latest.md">documentation</a></h2>
            <img src="img/cartocss-docs.png" />
        </div>

        <div class="slide">
            <h2>experiment with CartoDB's visualization wizards, see the code they produce</h2>
        </div>

        <div class="slide">
            <h2>read other people's CartoCSS</h2>
        </div>

        <div class="slide">
            <a href="https://github.com/hotosm/hdm-cartocss">
                <img src="img/cartocss-hdm.png" />
            </a>
        </div>

        <div class="slide">
            <a href="https://github.com/stamen/toner-carto/">
                <img src="img/toner-github.png" />
            </a>
        </div>

    </body>
</html>
